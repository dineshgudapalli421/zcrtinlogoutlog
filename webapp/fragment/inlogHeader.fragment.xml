<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns:fm="sap.ui.layout.form"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:svm="sap.ui.comp.smartvariants"
>
    <f:DynamicPageHeader
        id="idGroupItems"
        binding="{InLogModel>/InitialLoad}"
    >
        <f:content>
            <fb:FilterBar
                id="filterbar"
                persistencyKey="myPersKey"
                useToolbar="false"
                search=".onSearch"
                filterChange=".onFilterChange"
                afterVariantLoad=".onAfterVariantLoad"
                filterContainerWidth="10rem"
                header="inLog"
            >
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        name="MeterNo"
                        label="{i18n>MeterNo}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        mandatory="true"
                    >
                        <fb:control>
                            <Input
                                id="idInlogSerialNumber"
                                value="{InLogModel>/MeterNo}"
                                valueLiveUpdate="true"
                                liveChange="onLiveChangeMeter"
                                submit="onSubmitMeter"
                                maxLength="13"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="Ref"
                        label="{i18n>lhInlogMMeterStatusLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                editable="false"
                                placeholder="from"
                                value="{InLogModel>MeterResults/MeterStatus}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="Posting"
                        label="{i18n>curStorageLocLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                editable="false"
                                placeholder="from"
                                value="{InLogModel>MeterResults/CurrentStorageLocation}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="OrderNumber"
                        label="{i18n>lhinlogOrderNumberLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                editable="false"
                                placeholder="from"
                                value="{InLogModel>MeterResults/OrderNumber}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="SoActivity"
                        label="{i18n>ordSoActTypeLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                editable="false"
                                placeholder="So Activiy"
                                value="{InLogModel>MeterResults/SoActivityType}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="SoActivityDesc"
                        label="{i18n>ordSoActDescriptionLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                editable="false"
                                placeholder="Description"
                                value="{InLogModel>MeterResults/SoActivityDescription}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="OrderHistory"
                        label="{i18n>lhi18nordSoHisLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Button
                                icon="sap-icon://work-history"
                                press="onPressSoActHistory"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="Mvt"
                        label="{i18n>billClassLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                editable="false"
                                placeholder="from"
                                value="{InLogModel>MeterResults/BillingClass}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="EquipFrom"
                        label="{i18n>rateCatLabel}"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                editable="false"
                                value="{InLogModel>MeterResults/RateCategory}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="EqpTo"
                        label="{i18n>industryLabel}"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                value="{InLogModel>MeterResults/Industry}"
                                editable="false"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="StorLoc"
                        label="{i18n>dispositionLabel}"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <ComboBox
                                id="idInlogDisposition"
                                selectionChange="onSelectionchangeDisposition"
                                items="{InLogModel>NavDisposition/results}"
                                required="true"
                                selectedKey="{InLogModel>Umlgo}"
                            >
                                <core:Item
                                    key="{InLogModel>DispositionCode}"
                                    text="{InLogModel>DispositionText}"
                                />
                            </ComboBox>
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="TargStorLoc"
                        label="{i18n>destStorLocLabel}"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                editable="false"
                                value="{InLogModel>SelectedDisposition/DestStorageLoc} {InLogModel>SelectedDisposition/DestStorageLocText}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="Name5"
                        label="{i18n>mrValidityLabel}"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Select
                                id="idMRValidity"
                                required="true"
                                selectedKey="{InLogModel>MRValidityCode}"
                                items="{path: 'InLogModel>NavMRValidity/results'}"
                                change="onChangeMRVal"
                            >
                                <core:Item
                                    key="{InLogModel>MRValidityCode}"
                                    text="{InLogModel>MRValidityCodeText}"
                                />
                            </Select>
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="Name6"
                        label="{i18n>postingDateLabel}"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <DatePicker
                                id="idHeaderDocDate"
                                value="{InLogModel>/oCurrentDate}"
                                valueFormat="yyyy-MM-dd"
                                displayFormat="MM-dd-yyyy"
                                change="handleChangeDocDate"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        id="idReceivedByGroup"
                        name="Name7"
                        label="{i18n>receivedByLabel}"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                id="idReceivedBy"
                                value="{InLogModel>/ReceivedBy}" editable="false"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRDkWh"
                        name="RDkWh"
                        label="{i18n>lhInlogReadDelkwhLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        visible="{= ${InLogModel>MeterResults/DelvKwhFlag} !== ''}"
                    >
                        <fb:control>
                        <!-- {InLogModel>MeterResults/DelvKwhFlag} -->
                            <Input
                                id="idInlogDelvReadKwh"
                                value="{InLogModel>DelvReadKwh}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRDkW"
                        name="RDkW"
                        label="{i18n>lhInlogReadDelkwLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        visible="{= ${InLogModel>MeterResults/DelvKwFlag} !== ''}"                        
                    > <!-- visible="{InLogModel>MeterResults/DelvKwFlag}" -->
                        <fb:control>
                            <Input
                                id="idInlogDelvReadKw"
                                value="{InLogModel>DelvReadKw}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRDkVA"
                        name="RDkVA"
                        label="{i18n>lhInlogReadDelkVALabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        visible="{= ${InLogModel>MeterResults/DelvKvaFlag} !== ''}" 
                    >
                    <!-- > visible="{InLogModel>MeterResults/DelvKvaFlag}" -->
                        <fb:control>
                            <Input
                                id="idInlogDelvReadKva"
                                value="{InLogModel>DelvReadKva}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRDKvar"
                        name="RDKvar"
                        label="{i18n>lhInlogReadDelKvarLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        visible="{= ${InLogModel>MeterResults/DelvKvarFlag} !== ''}"
                    > 
                    <!-- >  visible="{InLogModel>MeterResults/DelvKvarFlag}" -->
                        <fb:control>
                            <Input
                                id="idInlogDelvReadKvar"
                                value="{InLogModel>DelvReadKvar}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRDkVAh"
                        name="RDkVAh"
                        label="{i18n>lhInlogReadDelkVAhLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        visible="{= ${InLogModel>MeterResults/DelvKvahFlag} !== ''}"                        
                    >
                    <!-- //visible="{InLogModel>MeterResults/DelvKvahFlag}" -->
                        <fb:control>
                            <Input
                                id="idInlogDelvReadKvah"
                                value="{InLogModel>DelvReadKvah}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRDkvarh"
                        name="RDkvarh"
                        label="{i18n>lhInlogReadDelkvarhLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        visible="{= ${InLogModel>MeterResults/DelvKvarhFlag} !== ''}"                                               
                    >
                    <!-- visible="{InLogModel>MeterResults/DelvKvarhFlag}" -->
                        <fb:control>
                            <Input
                                id="idInlogDelvReadKvarh"
                                value="{InLogModel>DelvReadKvarh}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRRkWh"
                        name="RRkWh"
                        label="{i18n>lhInlogReadReckwhLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        visible="{= ${InLogModel>MeterResults/RecvKwhFlag} !== ''}"                        
                    >
                    <!-- visible="{InLogModel>MeterResults/RecvKwhFlag}" -->
                        <fb:control>
                            <Input
                                id="idInlogRecvReadKwh"
                                value="{InLogModel>RecvReadKwh}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRRkW"
                        name="RRkW"
                        label="{i18n>lhInlogReadReckWLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        visible="{= ${InLogModel>MeterResults/RecvKwFlag} !== ''}"                       
                    >
                     <!-- visible="{InLogModel>MeterResults/RecvKwFlag}" -->
                        <fb:control>
                            <Input
                                id="idInlogRecvReadKw"
                                value="{InLogModel>RecvReadKw}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRRkVA"
                        name="RRkVA"
                        label="{i18n>lhInlogReadReckVALabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        visible="{= ${InLogModel>MeterResults/RecvKvaFlag} !== ''}" 
                    >
                    <!-- > visible="{InLogModel>MeterResults/RecvKvaFlag}" -->
                        <fb:control>
                            <Input
                                id="idInlogRecvReadKva"
                                value="{InLogModel>RecvReadKva}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRRKvar"
                        name="RRKvar"
                        label="{i18n>lhInlogReadRecKvarLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        visible="{= ${InLogModel>MeterResults/RecvKvarFlag} !== ''}" 
                    >
                    <!-- > visible="{InLogModel>MeterResults/RecvKvarFlag}" -->
                        <fb:control>
                            <Input
                                id="idInlogRecvReadKvar"
                                value="{InLogModel>RecvReadKvar}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRRkVAh"
                        name="RRkVAh"
                        label="{i18n>lhInlogReadReckVAhLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                         visible="{= ${InLogModel>MeterResults/RecvKvahFlag} !== ''}"
                    >
                    <!-- >visible="{InLogModel>MeterResults/RecvKvahFlag}" -->
                        <fb:control>
                            <Input
                                id="idInlogRecvReadKvah"
                                value="{InLogModel>RecvReadKvah}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        id="idRRkvarh"
                        name="kvarh"
                        label="{i18n>lhInlogReadReckvarhLabel}"
                        groupName="Group2"
                        visibleInFilterBar="true"
                        visible="{= ${InLogModel>MeterResults/RecvKvarhFlag} !== ''}"
                    >
                    <!-- > visible="{InLogModel>MeterResults/RecvKvarhFlag}" -->
                        <fb:control>
                            <Input
                                id="idInlogRecvReadKvarh"
                                value="{InLogModel>RecvReadKvarh}"
                                type="Text"
                                editable="{= ${InLogModel>MRValidityCode} !== 'E'}"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
            </fb:FilterBar>
        </f:content>
    </f:DynamicPageHeader>
</core:FragmentDefinition>
